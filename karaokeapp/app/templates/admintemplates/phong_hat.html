{% extends "admintemplates/admin_base.html" %}
{% block title %}Qu·∫£n l√Ω ph√≤ng h√°t{% endblock %}

{% block content %}
<h3 class="mb-4">üé§ Qu·∫£n l√Ω ph√≤ng h√°t</h3>

<div class="row mb-3">
    <div class="col-md-4">
        <form class="d-flex">
            <input type="text" name="keyword"
                   value="{{ keyword or '' }}"
                   class="form-control"
                   placeholder="üîç T√™n ph√≤ng">
            <button class="btn btn-primary ms-2">T√¨m</button>
        </form>
    </div>
    <div class="col-md-8 text-end">
        <a href="{{ url_for('them_phong_hat') }}" class="btn btn-success">
            ‚ûï Th√™m ph√≤ng
        </a>
    </div>
</div>

<table class="table table-bordered table-hover align-middle">
    <thead class="table-primary text-center">
    <tr>
        <th>ID</th>
        <th>H√¨nh ·∫£nh</th>
        <th>T√™n ph√≤ng</th>
        <th>S·ª©c ch·ª©a</th>
        <th>Gi√° / gi·ªù</th>
        <th>Lo·∫°i</th>
        <th>Tr·∫°ng th√°i</th>
        <th width="200">Thao t√°c</th>
    </tr>
    </thead>
    <tbody>
    {% for p in ds_phong %}
    <tr class="text-center align-middle">
        <td>{{ p.MaPhong }}</td>

        <!-- H√åNH ·∫¢NH -->
        <td>
            {% if p.HinhAnh %}
            <img src="{{ p.HinhAnh }}"
                 width="90"
                 height="60"
                 class="rounded border"
                 style="object-fit: cover;">
            {% else %}
            <span class="text-muted">Kh√¥ng c√≥ ·∫£nh</span>
            {% endif %}
        </td>

        <td>{{ p.TenPhong }}</td>
        <td>{{ p.SucChua }}</td>
        <td>{{ "{:,.0f}".format(p.GiaGio) }} ƒë</td>

        <td>
            <span class="badge bg-info">{{ p.LoaiPhong }}</span>
        </td>

        <td>
            {% if p.TrangThai == 'TRONG' %}
            <span class="badge bg-success">Tr·ªëng</span>
            {% else %}
            <span class="badge bg-warning">B·∫£o tr√¨</span>
            {% endif %}
        </td>

        <td>
            <a href="{{ url_for('sua_phong_hat', ma_phong=p.MaPhong) }}"
               class="btn btn-sm btn-warning">‚úèÔ∏è S·ª≠a</a>

            <a href="{{ url_for('xoa_phong_hat', ma_phong=p.MaPhong) }}"
               onclick="return confirm('X√≥a ph√≤ng n√†y?')"
               class="btn btn-sm btn-danger">üóëÔ∏è X√≥a</a>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
