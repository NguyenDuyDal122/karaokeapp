{% extends "admintemplates/admin_base.html" %}
{% block title %}Trang qu·∫£n tr·ªã{% endblock %}

{% block content %}

<h2 class="mb-4 text-primary fw-bold">üìä B·∫¢NG ƒêI·ªÄU KHI·ªÇN QU·∫¢N TR·ªä</h2>

<!-- H√ÄNG CH·ª®C NƒÇNG -->
<div class="row">

    <!-- PH√íNG H√ÅT -->
    <div class="col-md-3 mb-4">
        <div class="card h-100 shadow-sm text-center">
            <div class="card-body">
                <div class="fs-1">üé§</div>
                <h5 class="fw-bold mt-2">Ph√≤ng h√°t</h5>
                <p class="text-muted">Qu·∫£n l√Ω ph√≤ng, gi√° gi·ªù</p>
                <a href="{{ url_for('admin_phong_hat') }}" class="btn btn-primary w-100">
                    Qu·∫£n l√Ω
                </a>
            </div>
        </div>
    </div>

    <!-- ƒê·∫∂T PH√íNG -->
    <div class="col-md-3 mb-4">
        <div class="card h-100 shadow-sm text-center">
            <div class="card-body">
                <div class="fs-1">üìÖ</div>
                <h5 class="fw-bold mt-2">ƒê·∫∑t ph√≤ng</h5>
                <p class="text-muted">X√°c nh·∫≠n & c·∫≠p nh·∫≠t tr·∫°ng th√°i</p>
                <a href="{{ url_for('admin_dat_phong') }}" class="btn btn-info w-100">
                    Qu·∫£n l√Ω
                </a>
            </div>
        </div>
    </div>

    <!-- D·ªäCH V·ª§ -->
    <div class="col-md-3 mb-4">
        <div class="card h-100 shadow-sm text-center">
            <div class="card-body">
                <div class="fs-1">üçπ</div>
                <h5 class="fw-bold mt-2">D·ªãch v·ª•</h5>
                <p class="text-muted">ƒê·ªì u·ªëng, th·ª©c ƒÉn</p>
                <a href="{{ url_for('admin_dich_vu') }}" class="btn btn-warning w-100">
                    Qu·∫£n l√Ω
                </a>
            </div>
        </div>
    </div>

    <!-- H√ìA ƒê∆†N -->
    <div class="col-md-3 mb-4">
        <div class="card h-100 shadow-sm text-center">
            <div class="card-body">
                <div class="fs-1">üßæ</div>
                <h5 class="fw-bold mt-2">H√≥a ƒë∆°n</h5>
                <p class="text-muted">Theo d√µi thanh to√°n</p>
                <a href="{{ url_for('admin_hoa_don') }}" class="btn btn-success w-100">
                    Xem
                </a>
            </div>
        </div>
    </div>

</div>

<!-- BI·ªÇU ƒê·ªí DOANH THU -->
<div class="row">
    <div class="col-md-12 mb-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="fw-bold text-success mb-0">
                        üìà Doanh thu theo nƒÉm
                    </h5>
                    <a href="{{ url_for('admin_thong_ke') }}" class="btn btn-outline-success btn-sm">
                        Xem chi ti·∫øt
                    </a>
                </div>

                <canvas id="revenueChart" height="100"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- CHART JS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const ctx = document.getElementById('revenueChart');

new Chart(ctx, {
    type: 'bar',
    data: {
        labels: {{ labels | tojson }},
        datasets: [{
            label: 'Doanh thu (VNƒê)',
            data: {{ values | tojson }},
            backgroundColor: 'rgba(25, 135, 84, 0.7)'
        }]
    },
    options: {
        responsive: true,
        plugins: {
            legend: { display: false }
        },
        scales: {
            y: {
                ticks: {
                    callback: function(value) {
                        return value.toLocaleString('vi-VN') + ' ‚Ç´';
                    }
                }
            }
        }
    }
});
</script>

{% endblock %}
