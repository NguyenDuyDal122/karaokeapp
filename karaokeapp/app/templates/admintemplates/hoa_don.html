{% extends "admintemplates/admin_base.html" %}
{% block title %}Qu·∫£n l√Ω h√≥a ƒë∆°n{% endblock %}

{% block content %}
<h3 class="mb-4">üßæ Qu·∫£n l√Ω h√≥a ƒë∆°n</h3>

<form class="row mb-3">
    <div class="col-md-4">
        <input type="text"
               name="keyword"
               value="{{ keyword or '' }}"
               class="form-control"
               placeholder="üîç T√™n kh√°ch ho·∫∑c SƒêT">
    </div>

    <div class="col-md-2">
        <button class="btn btn-primary">
            T√¨m ki·∫øm
        </button>
    </div>
</form>

<table class="table table-bordered table-hover align-middle">
    <thead class="table-dark text-center">
        <tr>
            <th>ID</th>
            <th>Ph√≤ng</th>
            <th>Kh√°ch h√†ng</th>
            <th>Ng√†y l·∫≠p</th>
            <th>Ti·ªÅn ph√≤ng</th>
            <th>Ti·ªÅn d·ªãch v·ª•</th>
            <th>VAT</th>
            <th>T·ªïng ti·ªÅn</th>
            <th>Thanh to√°n</th>
            <th>Ngu·ªìn</th>
        </tr>
    </thead>

    <tbody>
        {% for hd in hoa_dons %}
        <tr class="text-center">
            <td>{{ hd.MaHoaDon }}</td>

            <td>{{ hd.dat_phong.phong.TenPhong }}</td>

            <td>{{ hd.dat_phong.khach_hang.HoTen }}</td>

            <td>{{ hd.NgayLap.strftime("%d/%m/%Y %H:%M") }}</td>

            <td class="text-end">
                {{ "{:,.0f}".format(hd.TienPhong) }} ‚Ç´
            </td>

            <td class="text-end">
                {{ "{:,.0f}".format(hd.TienDichVu) }} ‚Ç´
            </td>

            <td>{{ hd.VAT }}%</td>

            <td class="text-end fw-bold text-success">
                {{ "{:,.0f}".format(hd.TongTien) }} ‚Ç´
            </td>

            <td>
                {% if hd.PhuongThucThanhToan == 'TIEN_MAT' %}
                    <span class="badge bg-success">Ti·ªÅn m·∫∑t</span>
                {% else %}
                    <span class="badge bg-primary">Chuy·ªÉn kho·∫£n</span>
                {% endif %}
            </td>

            <td>
                {% if hd.Nguon == 'ONLINE' %}
                    <span class="badge bg-info">Online</span>
                {% else %}
                    <span class="badge bg-warning text-dark">T·∫°i qu·∫ßy</span>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
